<mat-toolbar class="navbar d-flex align-items-center justify-content-between flex-wrap">
  <!-- Logo and Location -->
  <div class="d-flex align-items-center gap-3">
    <a routerLink="/">
      <img src="assets/Logo.png" alt="E-Commerce Logo" class="logo" />
    </a>

  </div>

  <div class="flex-grow-1 mx-3 search-container desktop-search">
    <!-- Inside toolbar (desktop) -->
      <app-search-bar (searchSelected)="handleSearchResult($event)"></app-search-bar>
  </div>

  <!-- Navigation Buttons -->
  <div class="d-flex align-items-center gap-2">
    <!-- Cart & User Menu -->
    <span *ngIf="!isSellerLogin" class="position-relative">
      <button mat-icon-button [routerLink]="'/cart'" aria-label="Cart">
        <mat-icon>shopping_cart</mat-icon>
        <span class="cart-count" *ngIf="cartItems !== 0">{{ cartItems }}</span>
      </button>
    </span>

    <button mat-icon-button [matMenuTriggerFor]="userMenu">
      <mat-icon>account_circle</mat-icon>
    </button>
    <mat-menu #userMenu="matMenu">
      <ng-container *ngIf="isBuyerLogin || isSellerLogin; else loginOption">
        <div class="user-info px-3 py-2">
          <strong>{{ userEmail }}</strong>
        </div>
        <button mat-menu-item (click)="goToMyAccount()">My Account</button>
        <button mat-menu-item (click)="goToMyOrders()">My Orders</button>
        <button mat-menu-item (click)="logout()">Logout</button>
      </ng-container>
      <ng-template #loginOption>
        <button mat-menu-item routerLink="/buyerLogin">Login</button>
      </ng-template>
    </mat-menu>

    <button *ngIf="isSellerLogin" mat-button routerLink="/product-card">Add Product</button>
    <button *ngIf="!isSellerLogin" mat-button routerLink="/sellerSignup" class="become-seller-btn">
      Become Seller
    </button>
  </div>

</mat-toolbar>
<!-- Below toolbar (mobile) -->
<div class="flex-grow-1 mx-3 search-container mobile-search">
  <app-search-bar (searchSelected)="handleSearchResult($event)"></app-search-bar>

</div>